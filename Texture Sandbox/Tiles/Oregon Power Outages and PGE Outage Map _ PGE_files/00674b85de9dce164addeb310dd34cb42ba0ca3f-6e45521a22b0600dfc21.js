(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{UTfJ:function(t,a,e){"use strict";e.d(a,"a",(function(){return A}));e("6kNP"),e("8npG"),e("pJf4");var n=e("kD0k"),c=e.n(n),o=(e("ls82"),e("q1tI")),i=e("kfFl"),r=e("kKAo"),s=e("hlFM"),b=e("tRbT"),l=e("ofer"),u=e("PsDL"),d=e("R/WZ"),m=e("ZBNC"),p=e("ZPUd"),O=e.n(p),f=e("YwZP"),j=e("8zCm"),v=e("gLBg"),D=e("lqAt"),g=e("6pn5"),I=e("n0ij"),y=e("sNO/"),C=e("RA6I"),T=e("UYTu");function x(){var t=function(t,a){a||(a=t.slice(0));return t.raw=a,t}(["\n  mutation updateContactInfoConfirmation(\n    $payload: ContactInfoConfirmationRequest!\n  ) {\n    updateContactInfoConfirmation(payload: $payload) {\n      success\n    }\n  }\n"]);return x=function(){return t},t}var w=Object(T.a)(x()),h=e("XWqb"),N=e("DKfn"),k=e("qKvR");function E(t,a,e,n,c,o,i){try{var r=t[o](i),s=r.value}catch(b){return void e(b)}r.done?a(s):Promise.resolve(s).then(n,c)}function _(t){return function(){var a=this,e=arguments;return new Promise((function(n,c){var o=t.apply(a,e);function i(t){E(o,n,c,i,r,"next",t)}function r(t){E(o,n,c,i,r,"throw",t)}i(void 0)}))}}var S=Object(d.a)((function(t){var a,e,n;return Object(m.a)({contactDataModalWrapper:{"& .MuiDialog-paperWidthSm":{maxWidth:"600px",width:"80%"}},contactDataModal:(a={padding:t.spacing(3),borderRadius:"5px"},a[t.breakpoints.down("xs")]={padding:t.spacing(4,3,3,3)},a),closeBtn:{position:"absolute",top:24,right:24,padding:0},modalBody:{marginTop:t.spacing(1),"& > *":{marginTop:t.spacing(1)}},contactData:{fontWeight:"bold",wordBreak:"break-word"},contactEmail:{fontWeight:"bold",wordBreak:"break-all"},updateBtn:(e={},e[t.breakpoints.down("sm")]={textAlign:"center"},e[t.breakpoints.up("sm")]={display:"flex",justifyContent:"flex-end"},e),okBtn:(n={},n[t.breakpoints.down("sm")]={textAlign:"center"},n)})}));function A(t){var a,e,n,d=t.open,m=t.onClose,p=t.contactData,T=t.setIsSessionDismissed,x=Object(j.c)().t,E=S(),A=(a=Object(g.a)().postGTMData,n={pageName:e="contact data intercept",siteSection:"contact data intercept modal",siteSubSection:e,journeyName:e,subJourneyName:e,pageTime:(new Date).toISOString()},{gtm_CDI_HandleShowModal:function(){a({pageData:n,actionData:{actionLocation:"modal",actionType:"show",actionLabel:"show contact data intercept modal",actionTime:(new Date).toISOString(),actionElement:"login",actionSubType:"",actionOutcome:""}})},gtm_CDI_HandleDismissModal:function(){a({pageData:n,actionData:{actionLocation:"modal",actionType:"click",actionLabel:"dismiss contact data intercept modal",actionTime:(new Date).toISOString(),actionElement:"button",actionSubType:"click",actionOutcome:"close"}})},gtm_CDI_HandleInformationIsCorrect:function(){a({pageData:n,actionData:{actionLocation:"modal",actionType:"click",actionLabel:"information is correct",actionTime:(new Date).toISOString(),actionElement:"button",actionSubType:"click",actionOutcome:"close"}})},gtm_CDI_HandleUpdateInformation:function(){a({pageData:n,actionData:{actionLocation:"modal",actionType:"click",actionLabel:"update information",actionTime:(new Date).toISOString(),actionElement:"button",actionSubType:"click",actionOutcome:"close"}})}}),R=A.gtm_CDI_HandleShowModal,P=A.gtm_CDI_HandleDismissModal,M=A.gtm_CDI_HandleInformationIsCorrect,L=A.gtm_CDI_HandleUpdateInformation,B=Object(o.useContext)(N.b).isClosedAccountsEnabled;function q(t){return H.apply(this,arguments)}function H(){return(H=_(c.a.mark((function t(a){var e,n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.c.mutate({mutation:w,variables:{payload:{contactInfoConfirmationOption:a}},refetchQueries:[{query:h.b,variables:{params:{removeInactiveAccounts:B}}}],awaitRefetchQueries:!0,errorPolicy:"all"});case 2:if(e=t.sent,n=e.data,!((o=e.errors)&&o.length>0)){t.next=7;break}return t.abrupt("return",Promise.reject("Mutation failed"));case 7:return t.abrupt("return",null==n?void 0:n.updateContactInfoConfirmation);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var W=(0,Object(y.a)().wrapWithLoader)(function(){var t=_(c.a.mark((function t(a){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(a);case 3:if(!(null==(e=t.sent)?void 0:e.success)){t.next=14;break}if(a!==I.q.UpdateInfo){t.next=10;break}return t.next=8,Object(f.navigate)(v.a.UPDATE_PERSONAL_INFORMATION,{replace:!0});case 8:t.next=11;break;case 10:case 11:m(),t.next=16;break;case 14:return t.next=16,Object(f.navigate)(v.a.ERROR);case 16:t.next=22;break;case 18:return t.prev=18,t.t0=t.catch(0),t.next=22,Object(f.navigate)(v.a.ERROR);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(a){return t.apply(this,arguments)}}()),F=function(){T(),P(),m()},U=function(){var t=_(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M(),t.next=3,W(I.q.InfoCorrect);case 3:m();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=_(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(),t.next=3,W(I.q.UpdateInfo);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){R()}),[]),Object(k.b)(i.a,{open:d,onClose:F,scroll:"body","aria-labelledby":"contact-data-intercept-modal","aria-describedby":"contact-data-intercept-modal",className:E.contactDataModalWrapper,disableScrollLock:!0},Object(k.b)(r.a,{className:E.contactDataModal},Object(k.b)(s.a,null,Object(k.b)(b.a,{container:!0,justify:"space-between"},Object(k.b)(l.a,{variant:"body1",gutterBottom:!0,style:{paddingRight:"24px"}},x("CONTACT_DATA_REVIEW_INFO_TITLE")),Object(k.b)(u.a,{"aria-label":"close",color:"inherit",onClick:F,className:E.closeBtn},Object(k.b)(O.a,null))),Object(k.b)(s.a,{className:E.modalBody},Object(k.b)(l.a,{variant:"h3"},x("CONTACT_DATA_HEADER"),":"),Object(k.b)(b.a,{container:!0},Object(k.b)(b.a,{item:!0,xs:6,md:5},Object(k.b)(l.a,{variant:"body1"},x("NAME"),":")),Object(k.b)(b.a,{item:!0,xs:6,md:7},Object(k.b)(l.a,{variant:"body1",className:E.contactData},p.name))),Object(k.b)(b.a,{container:!0},Object(k.b)(b.a,{item:!0,xs:6,md:5},Object(k.b)(l.a,{variant:"body1"},x("EMAIL"),":")),Object(k.b)(b.a,{item:!0,xs:6,md:7},Object(k.b)(l.a,{variant:"body1",className:E.contactEmail},p.email))),Object(k.b)(b.a,{container:!0},Object(k.b)(b.a,{item:!0,xs:6,md:5},Object(k.b)(l.a,{variant:"body1"},x("PHONE"),":")),Object(k.b)(b.a,{item:!0,xs:6,md:7},Object(k.b)(l.a,{variant:"body1",className:E.contactData},p.phone||x("NOT_SPECIFIED")))),Object(k.b)(b.a,{container:!0},Object(k.b)(b.a,{item:!0,xs:6,md:5},Object(k.b)(l.a,{variant:"body1"},x("MOBILE"),":")),Object(k.b)(b.a,{item:!0,xs:6,md:7},Object(k.b)(l.a,{variant:"body1",className:E.contactData},p.mobile||x("NOT_SPECIFIED")))),Object(k.b)(b.a,{container:!0},Object(k.b)(b.a,{item:!0,xs:6,md:5},Object(k.b)(l.a,{variant:"body1"},x("PREFERRED_LANGUAGE"),":")),Object(k.b)(b.a,{item:!0,xs:6,md:7},Object(k.b)(l.a,{variant:"body1",className:E.contactData},p.prefLanguage||x("NOT_SPECIFIED")))),Object(k.b)(b.a,{style:{marginTop:20},container:!0,spacing:2},Object(k.b)(b.a,{item:!0,xs:12,md:6,className:E.okBtn},Object(k.b)(D.a,{size:"large",color:"secondary",variant:"outlined",onClick:U},x("INFORMATION_CORRECT"))),Object(k.b)(b.a,{className:E.updateBtn,item:!0,xs:12,md:6},Object(k.b)(D.a,{size:"large",onClick:Z},x("UPDATE_INFORMATION"))))))))}},Z6uO:function(t,a,e){"use strict";e("v9g0");var n,c=e("uh5Q"),o=e("HZtn"),i=e("IjAw"),r=e("dndX"),s=e("q1tI"),b=e("EqT9"),l=e("mNYa"),u=e("XWqb");!function(t){t.MOB="MOB",t.PNP="PNP"}(n||(n={}));a.a=function(t){var a,e,d=void 0===t?{}:t,m=d.isEnabled,p=d.startDate,O=d.endDate,f=Object(s.useState)(!1),j=f[0],v=f[1],D=Object(u.a)(),g=D.customer,I=D.loading,y=g||{},C=y.encryptedPersonId,T=y.personName,x=y.lastConfirmedDate,w=y.email,h=y.prefLanguage,N=y.contactDetails;return Object(s.useEffect)((function(){if(Object(l.c)("isContactDataModalDismissed"))v(!1);else if(m&&!I&&p&&O&&C){var t=Object(b.l)(p),a=Object(b.l)(O);v(!Object(c.a)(t)&&!Object(o.a)(Object(i.a)(a,{days:1}))&&(!x||Object(r.a)(Object(b.l)(x),t)))}}),[m,I,p,O,C]),{open:j,setOpen:v,setIsSessionDismissed:function(){Object(l.h)("isContactDataModalDismissed","true")},contactData:{name:T||"",email:w||"",prefLanguage:h||"",phone:null==N||null===(a=N.find((function(t){return(null==t?void 0:t.contactType)===n.PNP})))||void 0===a?void 0:a.contactValue,mobile:null==N||null===(e=N.find((function(t){return(null==t?void 0:t.contactType)===n.MOB})))||void 0===e?void 0:e.contactValue}}}},uh5Q:function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));e("1dPr");var n=e("/Tr7"),c=e("jIYg");function o(t){return Object(c.a)(1,arguments),Object(n.a)(t).getTime()>Date.now()}}}]);
//# sourceMappingURL=00674b85de9dce164addeb310dd34cb42ba0ca3f-6e45521a22b0600dfc21.js.map